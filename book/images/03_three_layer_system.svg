<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 500" font-family="Arial, sans-serif">
  <!-- Background -->
  <rect width="700" height="500" fill="#ffffff"/>

  <!-- Title -->
  <text x="350" y="35" text-anchor="middle" font-size="18" font-weight="bold" fill="#333">三層優先級系統 | Three-Layer Priority System</text>
  <text x="350" y="55" text-anchor="middle" font-size="12" fill="#666">100% 準確率架構 | 100% Accuracy Architecture</text>

  <!-- Layer 1 Box -->
  <rect x="100" y="80" width="500" height="90" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" rx="8"/>
  <text x="120" y="110" font-size="14" font-weight="bold" fill="#1565c0">第1層 | Layer 1</text>
  <text x="120" y="130" font-size="16" font-weight="bold" fill="#333">條件句模式匹配</text>
  <text x="120" y="150" font-size="12" fill="#666">Conditional Sentence Pattern Matching</text>

  <!-- Layer 1 Examples -->
  <text x="400" y="110" font-size="11" fill="#333">「征凶居吉」→ 吉</text>
  <text x="400" y="130" font-size="11" fill="#333">「婦吉夫凶」→ 中</text>
  <text x="400" y="150" font-size="11" fill="#333">「小吉大凶」→ 中</text>

  <!-- Arrow 1 -->
  <path d="M350 170 L350 195" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="370" y="188" font-size="10" fill="#666">無匹配 ↓</text>

  <!-- Layer 2 Box -->
  <rect x="100" y="200" width="500" height="90" fill="#fff3e0" stroke="#ff9800" stroke-width="2" rx="8"/>
  <text x="120" y="230" font-size="14" font-weight="bold" fill="#e65100">第2層 | Layer 2</text>
  <text x="120" y="250" font-size="16" font-weight="bold" fill="#333">高可信關鍵詞判定</text>
  <text x="120" y="270" font-size="12" fill="#666">High-Confidence Keyword Detection</text>

  <!-- Layer 2 Examples -->
  <text x="400" y="225" font-size="11" fill="#4caf50">✓ 元吉、大吉 → 吉</text>
  <text x="400" y="245" font-size="11" fill="#f44336">✗ 災、凶 → 凶</text>
  <text x="400" y="265" font-size="11" fill="#ff9800">○ 吝 → 中 | 无咎 → 傾向中</text>

  <!-- Arrow 2 -->
  <path d="M350 290 L350 315" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="370" y="308" font-size="10" fill="#666">無匹配 ↓</text>

  <!-- Layer 3 Box -->
  <rect x="100" y="320" width="500" height="90" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" rx="8"/>
  <text x="120" y="350" font-size="14" font-weight="bold" fill="#2e7d32">第3層 | Layer 3</text>
  <text x="120" y="370" font-size="16" font-weight="bold" fill="#333">結構查找表</text>
  <text x="120" y="390" font-size="12" fill="#666">Structure Lookup Table</text>

  <!-- Layer 3 Formula -->
  <text x="400" y="355" font-size="12" font-weight="bold" fill="#333">LOOKUP[下卦, 上卦, 爻位]</text>
  <text x="400" y="375" font-size="11" fill="#666">384條目的三維張量</text>
  <text x="400" y="395" font-size="11" fill="#666">3D Tensor: 8 × 8 × 6 = 384 entries</text>

  <!-- Result Box -->
  <rect x="250" y="430" width="200" height="50" fill="#333" stroke="#333" stroke-width="2" rx="8"/>
  <text x="350" y="460" text-anchor="middle" font-size="16" font-weight="bold" fill="#fff">結果: 吉 / 中 / 凶</text>

  <!-- Arrow 3 -->
  <path d="M350 410 L350 430" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead-dark)"/>

  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <marker id="arrowhead-dark" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>

  <!-- Priority indicators -->
  <circle cx="80" y="125" r="15" fill="#2196f3"/>
  <text x="80" y="130" text-anchor="middle" font-size="12" font-weight="bold" fill="#fff">1</text>

  <circle cx="80" y="245" r="15" fill="#ff9800"/>
  <text x="80" y="250" text-anchor="middle" font-size="12" font-weight="bold" fill="#fff">2</text>

  <circle cx="80" y="365" r="15" fill="#4caf50"/>
  <text x="80" y="370" text-anchor="middle" font-size="12" font-weight="bold" fill="#fff">3</text>
</svg>